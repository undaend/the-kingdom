<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Kingdom SMP - Server Status & Join</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap');

    :root {
      --gold-light: #f3d07a;
      --gold-dark: #a67c00;
      --gold-glow: #d4b64a;
      --gold-shadow: rgba(166, 124, 0, 0.7);

      --green: #a7d129;
      --blue: #3ea8ff;
      --purple: #b78fff;
      --error-red: #b23a3a;

      --bg-dark: rgba(20, 14, 5, 0.85);
      --bg-dark-alt: rgba(30, 20, 6, 0.9);
      --bg-gradient: linear-gradient(135deg, #1e1203, #4a3207);

      --font-family: 'MedievalSharp', cursive, serif;
      --transition: 0.35s ease;
    }

    /* Reset & base */
    *, *::before, *::after {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    html, body {
      height: 100%;
      font-family: var(--font-family);
      background: var(--bg-gradient);
      background-attachment: fixed;
      color: var(--gold-light);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px 20px 40px;
      user-select: none;
      overflow-x: hidden;
      /* subtle slow background animation */
      animation: bgShift 60s linear infinite alternate;
    }
    @keyframes bgShift {
      0% { background-position: 0% 0%; }
      100% { background-position: 100% 100%; }
    }

    /* Text shadow glow pulse */
    @keyframes glowPulse {
      0%, 100% {
        text-shadow:
          0 0 8px var(--gold-light),
          0 0 20px var(--gold-glow),
          0 0 35px var(--gold-dark);
      }
      50% {
        text-shadow:
          0 0 16px var(--gold-light),
          0 0 30px var(--gold-glow),
          0 0 50px var(--gold-dark);
      }
    }

    /* Page title */
    h1 {
      font-size: clamp(3rem, 6vw, 5rem);
      color: var(--gold-light);
      margin-bottom: 1rem;
      user-select: text;
      text-align: center;
      animation: glowPulse 3s ease-in-out infinite;
      letter-spacing: 0.06em;
    }

    /* Logo */
    #logo {
      width: clamp(120px, 16vw, 180px);
      filter: drop-shadow(0 0 10px var(--gold-dark));
      margin-bottom: 2rem;
      cursor: default;
      transition: transform 0.3s var(--transition);
    }
    #logo:hover, #logo:focus {
      transform: scale(1.1) rotate(3deg);
      outline: none;
    }

    /* Container for statuses */
    #status {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      max-width: 760px;
      width: 100%;
      justify-content: center;
      margin-bottom: 2.8rem;
      user-select: none;
    }

    /* Individual status card */
    .status-box {
      flex: 1 1 220px;
      min-width: 220px;
      background: var(--bg-dark);
      border-radius: 16px;
      box-shadow: 0 0 20px var(--gold-shadow);
      padding: 20px 28px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: default;
      position: relative;
      transition: box-shadow 0.35s ease, background-color 0.35s ease;
    }
    .status-box:hover, .status-box:focus-within {
      box-shadow:
        0 0 28px var(--gold-glow),
        inset 0 0 10px var(--gold-glow);
      outline: none;
    }

    /* Status text */
    .status-text {
      font-weight: 700;
      font-size: 1.35rem;
      margin-bottom: 14px;
      color: var(--gold-light);
      text-align: center;
      line-height: 1.3;
      user-select: text;
      text-shadow:
        0 0 8px var(--gold-glow);
      min-height: 4em;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    /* Icon SVG styles */
    svg.status-icon {
      width: 28px;
      height: 28px;
      flex-shrink: 0;
      animation: pulseGlowIcon 2.8s ease-in-out infinite alternate;
      filter: drop-shadow(0 0 4px currentColor);
    }
    @keyframes pulseGlowIcon {
      0%, 100% { filter: drop-shadow(0 0 4px currentColor); }
      50% { filter: drop-shadow(0 0 12px currentColor); }
    }

    /* Status colors */
    .online {
      color: var(--green);
      background-color: rgba(31, 42, 0, 0.7);
      box-shadow: 0 0 20px var(--green);
    }
    .offline {
      color: var(--error-red);
      background-color: rgba(60, 15, 15, 0.85);
      box-shadow: 0 0 20px var(--error-red);
    }
    .error {
      color: var(--error-red);
      background-color: rgba(90, 20, 20, 0.9);
      box-shadow: 0 0 26px var(--error-red);
    }
    .eagler {
      color: var(--purple);
      background-color: rgba(70, 40, 110, 0.6);
      box-shadow: 0 0 22px var(--purple);
    }

    /* Copy IP button */
    .copy-btn {
      cursor: pointer;
      border: none;
      padding: 9px 24px;
      border-radius: 10px;
      font-weight: 700;
      font-family: var(--font-family);
      font-size: 1rem;
      background: linear-gradient(45deg, var(--gold-dark), var(--gold-glow));
      color: #3c2f00;
      box-shadow: 0 0 14px var(--gold-glow);
      transition: background 0.3s ease, transform 0.15s ease;
      user-select: none;
      outline-offset: 3px;
      outline-color: transparent;
      outline-style: solid;
      position: relative;
    }
    .copy-btn:hover,
    .copy-btn:focus-visible {
      background: linear-gradient(45deg, var(--gold-glow), var(--gold-dark));
      transform: scale(1.1);
      outline-color: var(--gold-glow);
      outline-style: solid;
    }

    /* Tooltip after copy */
    .copy-btn[data-copied="true"]::after {
      content: 'Copied!';
      position: absolute;
      top: -36px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--green);
      color: #222;
      font-weight: 700;
      padding: 5px 14px;
      border-radius: 8px;
      font-size: 0.85rem;
      pointer-events: none;
      opacity: 1;
      box-shadow: 0 0 10px var(--green);
      white-space: nowrap;
      user-select: none;
      animation: fadeOut 1.8s forwards;
      z-index: 10;
    }
    @keyframes fadeOut {
      0% {opacity: 1;}
      80% {opacity: 1;}
      100% {opacity: 0;}
    }

    /* Join buttons container */
    #join-buttons {
      display: flex;
      gap: 28px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 3.5rem;
      max-width: 760px;
      width: 100%;
      user-select: none;
    }

    /* Join Buttons */
    .join-btn {
      font-family: var(--font-family);
      font-weight: 900;
      font-size: 1.6rem;
      padding: 18px 50px;
      border-radius: 14px;
      text-decoration: none;
      color: #3c2f00;
      cursor: pointer;
      box-shadow: 0 0 32px var(--gold-glow);
      transition: background 0.5s ease, box-shadow 0.5s ease, transform 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      letter-spacing: 1.2px;
      min-width: 230px;
      user-select: none;
      user-drag: none;
    }
    .join-btn:focus-visible {
      outline: 3px solid var(--gold-glow);
      outline-offset: 5px;
    }

    /* Java & Bedrock Join Button */
    #join-main {
      background: linear-gradient(45deg, var(--gold-dark), var(--gold-glow));
      box-shadow: 0 0 38px var(--gold-glow);
    }
    #join-main:hover {
      background: linear-gradient(45deg, var(--gold-glow), var(--gold-dark));
      box-shadow: 0 0 46px #f7e470;
      transform: scale(1.08);
    }

    /* Eaglercraft Join Button */
    #join-eagler {
      background: linear-gradient(45deg, #7f46ff, #d1a2ff);
      box-shadow: 0 0 38px #b69eff;
      color: #3a2366;
      display: none; /* initially hidden, shown when online */
    }
    #join-eagler:hover {
      background: linear-gradient(45deg, #d1a2ff, #7f46ff);
      box-shadow: 0 0 44px #c9b3ff;
      transform: scale(1.08);
    }

    /* Intro Section */
    #intro {
      max-width: 760px;
      background: var(--bg-dark-alt);
      padding: 32px 42px;
      border-radius: 18px;
      font-size: clamp(1rem, 1.3vw, 1.4rem);
      line-height: 1.6;
      white-space: pre-wrap;
      box-shadow: 0 0 40px var(--gold-shadow);
      user-select: text;
      text-align: center;
      margin: 0 auto 2rem;
      color: var(--gold-light);
      letter-spacing: 0.05em;
      user-select: text;
    }

    /* Footer */
    footer {
      font-family: Arial, sans-serif;
      font-size: 0.85rem;
      color: #b5a66a;
      user-select: none;
      letter-spacing: 1.3px;
      margin-top: auto;
      text-align: center;
      padding-bottom: 10px;
    }

    /* Responsive adjustments */
    @media (max-width: 700px) {
      #status {
        gap: 18px;
      }
      .status-box {
        flex: 1 1 100%;
        min-width: unset;
      }
      #join-buttons {
        flex-direction: column;
        gap: 22px;
      }
      .join-btn {
        width: 100%;
        min-width: unset;
      }
    }
  </style>
</head>
<body>
  <h1>The Kingdom SMP</h1>
  <img id="logo" src="https://i.ibb.co/b3vK2h4/ksmplogo.png" alt="The Kingdom SMP Logo" tabindex="0" />

  <main id="status" aria-live="polite" aria-atomic="true" role="region" aria-label="Server Status">
    <section id="java-status" class="status-box offline java" tabindex="0" aria-label="Java Server Status">
      <div class="status-text" aria-live="off">
        <svg class="status-icon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
          <circle cx="12" cy="12" r="10" stroke="none" />
        </svg>
        Loading Java server status...
      </div>
      <button class="copy-btn" data-ip="gangidkanymore.falixsrv.me:23803" aria-label="Copy Java Server IP">Copy IP</button>
    </section>

    <section id="bedrock-status" class="status-box offline bedrock" tabindex="0" aria-label="Bedrock Server Status">
      <div class="status-text" aria-live="off">
        <svg class="status-icon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
          <rect x="4" y="4" width="16" height="16" rx="4" ry="4" />
        </svg>
        Loading Bedrock server status...
      </div>
      <button class="copy-btn" data-ip="host.falixserver.net:23803" aria-label="Copy Bedrock Server IP">Copy IP</button>
    </section>

    <section id="eagler-status" class="status-box offline eagler" tabindex="0" aria-label="Eaglercraft Server Status">
      <div class="status-text" aria-live="off">
        <svg class="status-icon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" >
          <polygon points="12 3 21 19 3 19" />
        </svg>
        Loading Eaglercraft server status...
      </div>
    </section>
  </main>

  <nav id="join-buttons" aria-label="Join Server Buttons">
    <a
      href="https://gangidkanymore.falixsrv.me:23803"
      id="join-main"
      class="join-btn"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="Join Java and Bedrock Servers"
    >
      Join Java & Bedrock
    </a>
    <a
      href="https://eagler-viaversion-a2j9.onrender.com/game.html"
      id="join-eagler"
      class="join-btn"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="Join Eaglercraft Server"
    >
      Join Eaglercraft
    </a>
  </nav>

  <section id="intro" aria-label="Server introduction and features" tabindex="0">
🕯️ 𝕿𝖍𝖊 𝕶𝖎𝖓𝖌𝖉𝖔𝖒 SMP 🕯️

Where power is taken — never given.

A land broken by war, veiled in shadow.
Java, Bedrock, and Eaglercraft warriors rise under one blood-stained banner.

⸻

⚔️ Core Features
    • Lifesteal PvP – Spill blood. Steal hearts.
    • Custom Enchants – Forbidden powers beyond ancient scrolls.
    • Shops (🛒 /shop) – Buy, sell, and trade in the black market.
    • Teleportation (/rtp & /tpa) – Travel swiftly through cursed lands.
    • 🏰 Creative Realm – Coming soon…
    • 🌌 Skyblock & Minigames – Forged in the void. Soon to awaken.

⸻

🛡️ Server Portals
    • Java: gangidkanymore.falixsrv.me:23803
    • Bedrock: host.falixserver.net | Port: 23803
    • Eaglercraft: wss://eagler-viaversion-a2j9.onrender.com

⸻

⚔ The Kingdom SMP – A Dark Realm of Blood, Power, and Magic
Java | Bedrock | Eaglercraft — Enter if you dare.
  </section>

  <footer>© 2025 The Kingdom SMP</footer>

<script>
  // Elements
  const javaStatus = document.getElementById('java-status');
  const bedrockStatus = document.getElementById('bedrock-status');
  const eaglerStatus = document.getElementById('eagler-status');
  const joinEaglerBtn = document.getElementById('join-eagler');
  const joinMainBtn = document.getElementById('join-main');

  // Status icons SVG markup for each state
  const icons = {
    online: {
      java: `<svg class="status-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <circle cx="12" cy="12" r="10"/>
        <circle cx="12" cy="12" r="5" fill="#a7d129"/>
      </svg>`,
      bedrock: `<svg class="status-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <rect x="4" y="4" width="16" height="16" rx="4" ry="4"/>
        <rect x="8" y="8" width="8" height="8" rx="2" ry="2" fill="#3ea8ff"/>
      </svg>`,
      eagler: `<svg class="status-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <polygon points="12 3 21 19 3 19" fill="#b78fff"/>
        <circle cx="12" cy="14" r="3" fill="#d1a2ff"/>
      </svg>`
    },
    offline: `<svg class="status-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="opacity:0.4;">
      <line x1="5" y1="19" x2="19" y2="5" stroke="currentColor" stroke-width="2" />
      <line x1="5" y1="5" x2="19" y2="19" stroke="currentColor" stroke-width="2" />
    </svg>`,
    error: `<svg class="status-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="opacity:0.7;">
      <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="3"/>
      <line x1="12" y1="7" x2="12" y2="13" stroke="currentColor" stroke-width="3"/>
      <circle cx="12" cy="17" r="1" fill="currentColor"/>
    </svg>`
  };

  // Copy IP button functionality with tooltip
  document.querySelectorAll('.copy-btn').forEach(button => {
    button.addEventListener('click', () => {
      const ip = button.dataset.ip;
      navigator.clipboard.writeText(ip).then(() => {
        button.setAttribute('data-copied', 'true');
        setTimeout(() => button.removeAttribute('data-copied'), 1800);
      }).catch(() => {
        alert('Failed to copy IP to clipboard.');
      });
    });
  });

  // Fetch Minecraft Server Status
  async function fetchMinecraftStatus(ip, elem, type) {
    try {
      const res = await fetch(`https://api.mcsrvstat.us/2/${ip}`);
      if (!res.ok) throw new Error('Network error');
      const data = await res.json();

      if (data.online) {
        elem.classList.remove('offline', 'error');
        elem.classList.add('online');
        elem.querySelector('.status-text').innerHTML = 
          `${icons.online[type]} <strong>Server ONLINE</strong><br>Players: ${data.players.online} / ${data.players.max}`;
      } else {
        elem.classList.remove('online', 'error');
        elem.classList.add('offline');
        elem.querySelector('.status-text').innerHTML = `${icons.offline} <strong>Server OFFLINE</strong>`;
      }
    } catch {
      elem.classList.remove('online', 'offline');
      elem.classList.add('error');
      elem.querySelector('.status-text').innerHTML = `${icons.error} <strong>Could not fetch status</strong>`;
    }
  }

  // Eaglercraft - no API available, so just show a message and show Join button
  function updateEaglerStatus() {
    eaglerStatus.classList.remove('online', 'offline', 'error');
    eaglerStatus.classList.add('eagler');
    eaglerStatus.querySelector('.status-text').innerHTML = `
      ${icons.online.eagler} <strong>⚠️ Eaglercraft status cannot be tracked. Join to check.</strong>
    `;
    // Show Join Eaglercraft button
    joinEaglerBtn.style.display = 'inline-flex';
  }

  async function updateAllStatuses() {
    fetchMinecraftStatus('gangidkanymore.falixsrv.me:23803', javaStatus, 'java');
    fetchMinecraftStatus('host.falixserver.net:23803', bedrockStatus, 'bedrock');
    updateEaglerStatus();
  }

  // Initial fetch & interval refresh every 30s
  updateAllStatuses();
  setInterval(updateAllStatuses, 30000);
</script>
</body>
</html>
